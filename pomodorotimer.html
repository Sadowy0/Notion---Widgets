<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html, body { height: 100%; width: 100%; overflow: hidden; background: #191919; color: white; }
        body {
            font-family: system-ui, -apple-system, sans-serif;
            display: flex; justify-content: center; align-items: center;
        }
        .container { width: 100%; display: flex; flex-direction: column; align-items: center; gap: 4px; }
        
        .timer-wrapper {
            position: relative; width: 100%; 
            display: flex; align-items: center; justify-content: center;
        }
        .timer-display {
            font-size: clamp(28px, 14vw, 56px);
            font-weight: 700; letter-spacing: -1px;
            font-variant-numeric: tabular-nums;
        }
        .timer-wrapper:hover .timer-display { opacity: 0.1; }
        
        .controls {
            position: absolute; display: flex; gap: 8px;
            opacity: 0; transition: 0.2s; pointer-events: none;
        }
        .timer-wrapper:hover .controls { opacity: 1; pointer-events: auto; }
        
        .btn {
            width: 32px; height: 32px; border-radius: 50%; border: none;
            background: rgba(255,255,255,0.15); color: white; cursor: pointer;
            display: flex; align-items: center; justify-content: center;
        }
        .btn svg { width: 18px; height: 18px; fill: currentColor; }

        .status-text { font-size: clamp(10px, 4vw, 14px); opacity: 0.8; font-weight: 600; }
        .stats { font-size: clamp(8px, 3vw, 11px); opacity: 0.5; white-space: nowrap; }
        
        /* Ustawienia kompaktowe */
        .settings {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #191919; z-index: 100; flex-direction: column; justify-content: center; gap: 10px; padding: 10px;
        }
        .settings.active { display: flex; }
        input { background: #333; border: 1px solid #444; color: white; width: 100%; padding: 5px; border-radius: 4px; font-size: 12px; }
    </style>
</head>
<body>
    <div class="container">
        <div class="timer-wrapper">
            <div class="timer-display" id="timerDisplay">25:00</div>
            <div class="controls">
                <button class="btn" id="startBtn"><svg viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg></button>
                <button class="btn" id="stopBtn" style="display:none"><svg viewBox="0 0 24 24"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg></button>
                <button class="btn" id="settingsBtn"><svg viewBox="0 0 24 24"><path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/></svg></button>
            </div>
        </div>
        <div class="status-text" id="statusText">Nauka</div>
        <div class="stats"><span id="wM">0</span>m pracy | <span id="bM">0</span>m pauzy</div>
    </div>

    <div class="settings" id="settingsBox">
        <input type="number" id="inW" value="25" placeholder="Praca (min)">
        <input type="number" id="inB" value="5" placeholder="Przerwa (min)">
        <button class="btn" id="saveBtn" style="width:100%; border-radius:4px;">Zapisz</button>
    </div>

    <script>
        let work = 25, pause = 5, timeLeft = 25 * 60, isRunning = false, isWork = true;
        let statsW = 0, statsB = 0;
        const disp = document.getElementById('timerDisplay');
        const status = document.getElementById('statusText');

        function update() {
            const m = Math.floor(timeLeft / 60), s = timeLeft % 60;
            disp.textContent = `${m}:${s < 10 ? '0' : ''}${s}`;
            document.getElementById('wM').textContent = Math.floor(statsW / 60);
            document.getElementById('bM').textContent = Math.floor(statsB / 60);
        }

        setInterval(() => {
            if (!isRunning) return;
            timeLeft--;
            isWork ? statsW++ : statsB++;
            if (timeLeft <= 0) {
                isWork = !isWork;
                timeLeft = (isWork ? work : pause) * 60;
                status.textContent = isWork ? "Nauka" : "Przerwa";
                new Audio().play(); // Opcjonalny dźwięk
            }
            update();
        }, 1000);

        document.getElementById('startBtn').onclick = () => { isRunning = true; document.getElementById('startBtn').style.display='none'; document.getElementById('stopBtn').style.display='flex'; };
        document.getElementById('stopBtn').onclick = () => { isRunning = false; document.getElementById('startBtn').style.display='flex'; document.getElementById('stopBtn').style.display='none'; };
        document.getElementById('settingsBtn').onclick = () => document.getElementById('settingsBox').classList.add('active');
        document.getElementById('saveBtn').onclick = () => {
            work = parseInt(document.getElementById('inW').value);
            pause = parseInt(document.getElementById('inB').value);
            timeLeft = work * 60;
            document.getElementById('settingsBox').classList.remove('active');
            update();
        };
    </script>
</body>
</html>
